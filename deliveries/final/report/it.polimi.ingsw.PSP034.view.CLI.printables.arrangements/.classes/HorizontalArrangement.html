


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="htmlId">
<head>
  <title>Coverage Report :: HorizontalArrangement</title>
  <style type="text/css">
    @import "../../.css/coverage.css";
  </style>
</head>

<body>
<div class="header"></div>

<div class="content">
<div class="breadCrumbs">
    [ <a href="../../index.html">all classes</a> ]
    [ <a href="../index.html">it.polimi.ingsw.PSP034.view.CLI.printables.arrangements</a> ]
</div>

<h1>Coverage Summary for Class: HorizontalArrangement (it.polimi.ingsw.PSP034.view.CLI.printables.arrangements)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">HorizontalArrangement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 86)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<div class="sourceCode"><i>1</i>&nbsp;package it.polimi.ingsw.PSP034.view.CLI.printables.arrangements;
<i>2</i>&nbsp;
<i>3</i>&nbsp;
<i>4</i>&nbsp;import it.polimi.ingsw.PSP034.view.CLI.printables.PrintableObject;
<i>5</i>&nbsp;
<i>6</i>&nbsp;import java.util.ArrayList;
<i>7</i>&nbsp;
<i>8</i>&nbsp;/**
<i>9</i>&nbsp; * {@inheritDoc}
<i>10</i>&nbsp; * &lt;p&gt;
<i>11</i>&nbsp; * A horizontal arrangement aligns the object it contains horizontally from left to right.
<i>12</i>&nbsp; * &lt;p&gt;
<i>13</i>&nbsp; * The height of the arrangement is the same as the highest object it contains. The width of the arrangement is the sum of the width of every object it contains and of the spacing (border) between the objects.
<i>14</i>&nbsp; *
<i>15</i>&nbsp; */
<i>16</i>&nbsp;public class HorizontalArrangement extends Arrangement{
<i>17</i>&nbsp;
<i>18</i>&nbsp;    /**
<i>19</i>&nbsp;     * Initializes an empty horizontal arrangement. Border is set to 1 and alignment is set to centre.
<i>20</i>&nbsp;     */
<i>21</i>&nbsp;    public HorizontalArrangement(){
<b class="nc"><i>22</i>&nbsp;        super();</b>
<i>23</i>&nbsp;    }
<i>24</i>&nbsp;
<i>25</i>&nbsp;    /**
<i>26</i>&nbsp;     * Sets the alignment of the arrangement to centre, meaning that the centre of each object will be at the same height.
<i>27</i>&nbsp;     */
<i>28</i>&nbsp;    public void setCentreAlignment(){
<b class="nc"><i>29</i>&nbsp;        super.setAlignment(0);</b>
<b class="nc"><i>30</i>&nbsp;        updateAlignment();</b>
<i>31</i>&nbsp;    }
<i>32</i>&nbsp;
<i>33</i>&nbsp;    /**
<i>34</i>&nbsp;     * Sets the alignment of the arrangement to top, meaning that the top of each object will be at the same height.
<i>35</i>&nbsp;     */
<i>36</i>&nbsp;    public void setTopAlignment(){
<b class="nc"><i>37</i>&nbsp;        super.setAlignment(1);</b>
<b class="nc"><i>38</i>&nbsp;        updateAlignment();</b>
<i>39</i>&nbsp;    }
<i>40</i>&nbsp;
<i>41</i>&nbsp;    /**
<i>42</i>&nbsp;     * Sets the alignment of the arrangement to bottom, meaning that the bottom of each object will be at the same height.
<i>43</i>&nbsp;     */
<i>44</i>&nbsp;    public void setBottomAlignment(){
<b class="nc"><i>45</i>&nbsp;        super.setAlignment(2);</b>
<b class="nc"><i>46</i>&nbsp;        updateAlignment();</b>
<i>47</i>&nbsp;    }
<i>48</i>&nbsp;
<i>49</i>&nbsp;    /**
<i>50</i>&nbsp;     * {@inheritDoc}
<i>51</i>&nbsp;     */
<i>52</i>&nbsp;    @Override
<i>53</i>&nbsp;    public void updateAlignment(){
<b class="nc"><i>54</i>&nbsp;        ArrayList&lt;String&gt; constructorArray = new ArrayList&lt;&gt;();</b>
<b class="nc"><i>55</i>&nbsp;        int maxHeight = 0;</b>
<b class="nc"><i>56</i>&nbsp;        for(PrintableObject object : super.getObjects()){</b>
<b class="nc"><i>57</i>&nbsp;            if(object.getHeight() &gt; maxHeight)</b>
<b class="nc"><i>58</i>&nbsp;                maxHeight = object.getHeight();</b>
<b class="nc"><i>59</i>&nbsp;        }</b>
<b class="nc"><i>60</i>&nbsp;        if(super.getObjects().size() != 0) {</b>
<b class="nc"><i>61</i>&nbsp;            switch (super.getAlignment()) {</b>
<i>62</i>&nbsp;                case 0:
<b class="nc"><i>63</i>&nbsp;                    for (int line = 0; line &lt; maxHeight; line++) {</b>
<b class="nc"><i>64</i>&nbsp;                        StringBuilder constructorLine = new StringBuilder();</b>
<b class="nc"><i>65</i>&nbsp;                        for (int index = 0; index &lt; super.getObjects().size(); index++) {</b>
<b class="nc"><i>66</i>&nbsp;                            PrintableObject currentObject = super.getObjects().get(index);</b>
<i>67</i>&nbsp;
<b class="nc"><i>68</i>&nbsp;                            if(!currentObject.getVisibility()  ||  currentObject.getWidth() == 0  ||  currentObject.getHeight() == 0)</b>
<b class="nc"><i>69</i>&nbsp;                                continue;</b>
<i>70</i>&nbsp;
<b class="nc"><i>71</i>&nbsp;                            if (index != 0)</b>
<b class="nc"><i>72</i>&nbsp;                                constructorLine.append(new String(new char[super.getBorder()]).replace(&#39;\u0000&#39;, &#39; &#39;));</b>
<i>73</i>&nbsp;
<b class="nc"><i>74</i>&nbsp;                            int above = (maxHeight - currentObject.getHeight()) / 2;</b>
<b class="nc"><i>75</i>&nbsp;                            int under = above + currentObject.getHeight();</b>
<b class="nc"><i>76</i>&nbsp;                            if (line &lt; above || line &gt;= under)</b>
<b class="nc"><i>77</i>&nbsp;                                constructorLine.append(new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39; &#39;));</b>
<i>78</i>&nbsp;                            else {
<b class="nc"><i>79</i>&nbsp;                                if(line - (maxHeight - currentObject.getHeight()) / 2 == 0)</b>
<b class="nc"><i>80</i>&nbsp;                                    constructorLine.append(&quot;@&quot;).append(new String(new char[currentObject.getWidth() - 1]).replace(&#39;\u0000&#39;, &#39;#&#39;));</b>
<i>81</i>&nbsp;                                else
<b class="nc"><i>82</i>&nbsp;                                    constructorLine.append(new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39;#&#39;));</b>
<i>83</i>&nbsp;                            }
<i>84</i>&nbsp;                        }
<b class="nc"><i>85</i>&nbsp;                        constructorArray.add(constructorLine.toString());</b>
<i>86</i>&nbsp;                    }
<b class="nc"><i>87</i>&nbsp;                    break;</b>
<i>88</i>&nbsp;                case 1:
<b class="nc"><i>89</i>&nbsp;                    for (int line = 0; line &lt; maxHeight; line++) {</b>
<b class="nc"><i>90</i>&nbsp;                        StringBuilder constructorLine = new StringBuilder();</b>
<b class="nc"><i>91</i>&nbsp;                        for (int index = 0; index &lt; super.getObjects().size(); index++) {</b>
<b class="nc"><i>92</i>&nbsp;                            PrintableObject currentObject = super.getObjects().get(index);</b>
<i>93</i>&nbsp;
<b class="nc"><i>94</i>&nbsp;                            if(!currentObject.getVisibility()  ||  currentObject.getWidth() == 0  ||  currentObject.getHeight() == 0)</b>
<b class="nc"><i>95</i>&nbsp;                                continue;</b>
<i>96</i>&nbsp;
<b class="nc"><i>97</i>&nbsp;                            if (index != 0)</b>
<b class="nc"><i>98</i>&nbsp;                                constructorLine.append(new String(new char[super.getBorder()]).replace(&#39;\u0000&#39;, &#39; &#39;));</b>
<i>99</i>&nbsp;
<b class="nc"><i>100</i>&nbsp;                            if (line &gt;= currentObject.getHeight())</b>
<b class="nc"><i>101</i>&nbsp;                                constructorLine.append(new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39; &#39;));</b>
<i>102</i>&nbsp;                            else {
<b class="nc"><i>103</i>&nbsp;                                if(line == 0)</b>
<b class="nc"><i>104</i>&nbsp;                                    constructorLine.append(&quot;@&quot;).append(new String(new char[currentObject.getWidth()-1]).replace(&#39;\u0000&#39;, &#39;#&#39;));</b>
<i>105</i>&nbsp;                                else
<b class="nc"><i>106</i>&nbsp;                                    constructorLine.append(new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39;#&#39;));</b>
<i>107</i>&nbsp;                            }
<i>108</i>&nbsp;                        }
<b class="nc"><i>109</i>&nbsp;                        constructorArray.add(constructorLine.toString());</b>
<i>110</i>&nbsp;                    }
<b class="nc"><i>111</i>&nbsp;                    break;</b>
<i>112</i>&nbsp;                case 2:
<b class="nc"><i>113</i>&nbsp;                    for (int line = 0; line &lt; maxHeight; line++) {</b>
<b class="nc"><i>114</i>&nbsp;                        StringBuilder constructorLine = new StringBuilder();</b>
<b class="nc"><i>115</i>&nbsp;                        for (int index = 0; index &lt; super.getObjects().size(); index++) {</b>
<b class="nc"><i>116</i>&nbsp;                            PrintableObject currentObject = super.getObjects().get(index);</b>
<i>117</i>&nbsp;
<b class="nc"><i>118</i>&nbsp;                            if(!currentObject.getVisibility()  ||  currentObject.getWidth() == 0  ||  currentObject.getHeight() == 0)</b>
<b class="nc"><i>119</i>&nbsp;                                continue;</b>
<i>120</i>&nbsp;
<b class="nc"><i>121</i>&nbsp;                            if (index != 0)</b>
<b class="nc"><i>122</i>&nbsp;                                constructorLine.append(new String(new char[super.getBorder()]).replace(&#39;\u0000&#39;, &#39;#&#39;));</b>
<i>123</i>&nbsp;
<b class="nc"><i>124</i>&nbsp;                            if (line &lt; maxHeight - currentObject.getHeight())</b>
<b class="nc"><i>125</i>&nbsp;                                constructorLine.append(new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39; &#39;));</b>
<i>126</i>&nbsp;                            else{
<b class="nc"><i>127</i>&nbsp;                                if(line -(maxHeight - currentObject.getHeight()) == 0)</b>
<b class="nc"><i>128</i>&nbsp;                                    constructorLine.append(&quot;@&quot;).append(new String(new char[currentObject.getWidth() - 1]).replace(&#39;\u0000&#39;, &#39;#&#39;));</b>
<i>129</i>&nbsp;                                else
<b class="nc"><i>130</i>&nbsp;                                    constructorLine.append(new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39;#&#39;));</b>
<i>131</i>&nbsp;                            }
<i>132</i>&nbsp;                        }
<b class="nc"><i>133</i>&nbsp;                        constructorArray.add(constructorLine.toString());</b>
<i>134</i>&nbsp;                    }
<i>135</i>&nbsp;                    break;
<i>136</i>&nbsp;            }
<b class="nc"><i>137</i>&nbsp;            super.setObjectSize(constructorArray.size());</b>
<b class="nc"><i>138</i>&nbsp;            for(int i = 0; i&lt;constructorArray.size(); i++){</b>
<b class="nc"><i>139</i>&nbsp;                super.setObjectLine(i, constructorArray.get(i));</b>
<i>140</i>&nbsp;            }
<i>141</i>&nbsp;        }else{
<b class="nc"><i>142</i>&nbsp;            super.setObjectSize(0);</b>
<i>143</i>&nbsp;        }
<b class="nc"><i>144</i>&nbsp;        super.updateAlignment();</b>
<i>145</i>&nbsp;    }
<i>146</i>&nbsp;
<i>147</i>&nbsp;    /**
<i>148</i>&nbsp;     * Prints all th object that the arrangement contains based on the set alignment.
<i>149</i>&nbsp;     * @param line line to start printing from. The value is 1-based.
<i>150</i>&nbsp;     * @param column line to start printing from.  The value is 1-based.
<i>151</i>&nbsp;     */
<i>152</i>&nbsp;    @Override
<i>153</i>&nbsp;    public void print(int line, int column) {
<b class="nc"><i>154</i>&nbsp;        if(super.getVisibility()) {</b>
<b class="nc"><i>155</i>&nbsp;            int index = 0;</b>
<b class="nc"><i>156</i>&nbsp;            while (super.getObjects().get(index).getHeight() == 0  ||  super.getObjects().get(index).getWidth() == 0  ||  !super.getObjects().get(index).getVisibility()){</b>
<b class="nc"><i>157</i>&nbsp;                index++;</b>
<b class="nc"><i>158</i>&nbsp;                if(index &gt;= super.getObjects().size())</b>
<b class="nc"><i>159</i>&nbsp;                    break;</b>
<i>160</i>&nbsp;            }
<b class="nc"><i>161</i>&nbsp;            if(index &lt; super.getObjects().size()) {</b>
<i>162</i>&nbsp;                external:
<b class="nc"><i>163</i>&nbsp;                for (int currColumn = 0; currColumn &lt; super.getWidth(); currColumn++) {</b>
<b class="nc"><i>164</i>&nbsp;                    for (int currLine = 0; currLine &lt; super.getHeight(); currLine++) {</b>
<b class="nc"><i>165</i>&nbsp;                        if (super.getObject()[currLine].charAt(currColumn) == &#39;@&#39;) {</b>
<b class="nc"><i>166</i>&nbsp;                            super.getObjects().get(index).print(line + currLine, column + currColumn);</b>
<b class="nc"><i>167</i>&nbsp;                            index++;</b>
<b class="nc"><i>168</i>&nbsp;                            if (index &gt;= super.getObjects().size())</b>
<b class="nc"><i>169</i>&nbsp;                                break external;</b>
<b class="nc"><i>170</i>&nbsp;                            while (super.getObjects().get(index).getHeight() == 0 || super.getObjects().get(index).getWidth() == 0 || !super.getObjects().get(index).getVisibility()) {</b>
<b class="nc"><i>171</i>&nbsp;                                index++;</b>
<b class="nc"><i>172</i>&nbsp;                                if (index &gt;= super.getObjects().size())</b>
<b class="nc"><i>173</i>&nbsp;                                    break external;</b>
<i>174</i>&nbsp;                            }
<i>175</i>&nbsp;                        }
<i>176</i>&nbsp;                    }
<i>177</i>&nbsp;                }
<i>178</i>&nbsp;            }
<i>179</i>&nbsp;        }
<b class="nc"><i>180</i>&nbsp;        super.setStartLine(line);</b>
<b class="nc"><i>181</i>&nbsp;        super.setStartColumn(column);</b>
<i>182</i>&nbsp;    }
<i>183</i>&nbsp;}
</div>
</div>

<div class="footer">
    
    <div style="float:right;">generated on 2020-07-03 15:31</div>
</div>
</body>
</html>
