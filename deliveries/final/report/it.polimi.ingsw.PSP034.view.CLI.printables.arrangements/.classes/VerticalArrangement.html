


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html id="htmlId">
<head>
  <title>Coverage Report :: VerticalArrangement</title>
  <style type="text/css">
    @import "../../.css/coverage.css";
  </style>
</head>

<body>
<div class="header"></div>

<div class="content">
<div class="breadCrumbs">
    [ <a href="../../index.html">all classes</a> ]
    [ <a href="../index.html">it.polimi.ingsw.PSP034.view.CLI.printables.arrangements</a> ]
</div>

<h1>Coverage Summary for Class: VerticalArrangement (it.polimi.ingsw.PSP034.view.CLI.printables.arrangements)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">VerticalArrangement</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 6)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/ 93)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<div class="sourceCode"><i>1</i>&nbsp;package it.polimi.ingsw.PSP034.view.CLI.printables.arrangements;
<i>2</i>&nbsp;
<i>3</i>&nbsp;import it.polimi.ingsw.PSP034.view.CLI.printables.PrintableObject;
<i>4</i>&nbsp;
<i>5</i>&nbsp;import java.util.ArrayList;
<i>6</i>&nbsp;
<i>7</i>&nbsp;/**
<i>8</i>&nbsp; * {@inheritDoc}
<i>9</i>&nbsp; * &lt;p&gt;
<i>10</i>&nbsp; * A vertical arrangement aligns the object it contains vertically from top to bottom.
<i>11</i>&nbsp; * &lt;p&gt;
<i>12</i>&nbsp; * The width of the arrangement is the same as the largest object it contains. The height of the arrangement is the sum of the height of every object it contains and of the spacing (border) between the objects.
<i>13</i>&nbsp; */
<i>14</i>&nbsp;public class VerticalArrangement extends Arrangement {
<i>15</i>&nbsp;
<i>16</i>&nbsp;    /**
<i>17</i>&nbsp;     * Initializes an empty vertical arrangement. Border is set to 1 and alignment is set to centre.
<i>18</i>&nbsp;     */
<i>19</i>&nbsp;    public VerticalArrangement() {
<b class="nc"><i>20</i>&nbsp;        super();</b>
<i>21</i>&nbsp;    }
<i>22</i>&nbsp;
<i>23</i>&nbsp;    /**
<i>24</i>&nbsp;     * Sets the alignment of the arrangement to centre, meaning that the centre of each object will be on the same column.
<i>25</i>&nbsp;     */
<i>26</i>&nbsp;    public void setCentreAlignment() {
<b class="nc"><i>27</i>&nbsp;        super.setAlignment(0);</b>
<b class="nc"><i>28</i>&nbsp;        updateAlignment();</b>
<i>29</i>&nbsp;    }
<i>30</i>&nbsp;
<i>31</i>&nbsp;    /**
<i>32</i>&nbsp;     * Sets the alignment of the arrangement to left, meaning that the left side of each object will be on the same column.
<i>33</i>&nbsp;     */
<i>34</i>&nbsp;    public void setLeftAlignment() {
<b class="nc"><i>35</i>&nbsp;        super.setAlignment(1);</b>
<b class="nc"><i>36</i>&nbsp;        updateAlignment();</b>
<i>37</i>&nbsp;    }
<i>38</i>&nbsp;
<i>39</i>&nbsp;    /**
<i>40</i>&nbsp;     * Sets the alignment of the arrangement to right, meaning that the right side of each object will be on the same column.
<i>41</i>&nbsp;     */
<i>42</i>&nbsp;    public void setRightAlignment() {
<b class="nc"><i>43</i>&nbsp;        super.setAlignment(2);</b>
<b class="nc"><i>44</i>&nbsp;        updateAlignment();</b>
<i>45</i>&nbsp;    }
<i>46</i>&nbsp;
<i>47</i>&nbsp;    /**
<i>48</i>&nbsp;     * {@inheritDoc}
<i>49</i>&nbsp;     */
<i>50</i>&nbsp;    @Override
<i>51</i>&nbsp;    public void updateAlignment() {
<b class="nc"><i>52</i>&nbsp;        ArrayList&lt;String&gt; constructorArray = new ArrayList&lt;&gt;();</b>
<b class="nc"><i>53</i>&nbsp;        int maxWidth = 0;</b>
<b class="nc"><i>54</i>&nbsp;        int totalHeight = 0;</b>
<b class="nc"><i>55</i>&nbsp;        for (PrintableObject object : super.getObjects()) {</b>
<b class="nc"><i>56</i>&nbsp;            if (object.getWidth() &gt; maxWidth)</b>
<b class="nc"><i>57</i>&nbsp;                maxWidth = object.getWidth();</b>
<b class="nc"><i>58</i>&nbsp;            totalHeight += object.getHeight();</b>
<b class="nc"><i>59</i>&nbsp;        }</b>
<b class="nc"><i>60</i>&nbsp;        if (super.getObjects().size() != 0) {</b>
<b class="nc"><i>61</i>&nbsp;            switch (super.getAlignment()) {</b>
<i>62</i>&nbsp;                case 0:
<b class="nc"><i>63</i>&nbsp;                    for (int index = 0; index &lt; super.getObjects().size(); index++) {</b>
<b class="nc"><i>64</i>&nbsp;                        PrintableObject currentObject = super.getObjects().get(index);</b>
<i>65</i>&nbsp;
<b class="nc"><i>66</i>&nbsp;                        if(!currentObject.getVisibility()  ||  currentObject.getWidth() == 0  ||  currentObject.getHeight() == 0)</b>
<b class="nc"><i>67</i>&nbsp;                            continue;</b>
<i>68</i>&nbsp;
<b class="nc"><i>69</i>&nbsp;                        if (index != 0) {</b>
<b class="nc"><i>70</i>&nbsp;                            for (int j = 0; j &lt; super.getBorder(); j++) {</b>
<b class="nc"><i>71</i>&nbsp;                                constructorArray.add(new String(new char[maxWidth]).replace(&#39;\u0000&#39;, &#39; &#39;));</b>
<i>72</i>&nbsp;                            }
<i>73</i>&nbsp;                        }
<i>74</i>&nbsp;
<b class="nc"><i>75</i>&nbsp;                        int beforeSpace = (maxWidth - currentObject.getWidth()) / 2;</b>
<b class="nc"><i>76</i>&nbsp;                        int afterSpace = maxWidth - currentObject.getWidth() - beforeSpace;</b>
<i>77</i>&nbsp;
<b class="nc"><i>78</i>&nbsp;                        for (int line = 0; line &lt; currentObject.getHeight(); line++) {</b>
<b class="nc"><i>79</i>&nbsp;                            String constructorLine = &quot;&quot;;</b>
<b class="nc"><i>80</i>&nbsp;                            if (currentObject.getWidth() &lt; maxWidth) {</b>
<b class="nc"><i>81</i>&nbsp;                                constructorLine += new String(new char[beforeSpace]).replace(&#39;\u0000&#39;, &#39; &#39;);</b>
<i>82</i>&nbsp;                            }
<i>83</i>&nbsp;
<b class="nc"><i>84</i>&nbsp;                            if(line == 0)</b>
<b class="nc"><i>85</i>&nbsp;                                constructorLine += &quot;@&quot; + new String(new char[currentObject.getWidth()-1]).replace(&#39;\u0000&#39;, &#39;#&#39;);</b>
<i>86</i>&nbsp;                            else
<b class="nc"><i>87</i>&nbsp;                                constructorLine += new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39;#&#39;);</b>
<i>88</i>&nbsp;
<b class="nc"><i>89</i>&nbsp;                            if (currentObject.getWidth() &lt; maxWidth) {</b>
<b class="nc"><i>90</i>&nbsp;                                constructorLine += new String(new char[afterSpace]).replace(&#39;\u0000&#39;, &#39; &#39;);</b>
<i>91</i>&nbsp;                            }
<b class="nc"><i>92</i>&nbsp;                            constructorArray.add(constructorLine);</b>
<i>93</i>&nbsp;                        }
<i>94</i>&nbsp;                    }
<b class="nc"><i>95</i>&nbsp;                    break;</b>
<i>96</i>&nbsp;                case 1:
<b class="nc"><i>97</i>&nbsp;                    for (int index = 0; index &lt; super.getObjects().size(); index++) {</b>
<b class="nc"><i>98</i>&nbsp;                        PrintableObject currentObject = super.getObjects().get(index);</b>
<i>99</i>&nbsp;
<b class="nc"><i>100</i>&nbsp;                        if(!currentObject.getVisibility()  ||  currentObject.getWidth() == 0  ||  currentObject.getHeight() == 0)</b>
<b class="nc"><i>101</i>&nbsp;                            continue;</b>
<i>102</i>&nbsp;
<b class="nc"><i>103</i>&nbsp;                        if (index != 0) {</b>
<b class="nc"><i>104</i>&nbsp;                            for (int j = 0; j &lt; super.getBorder(); j++) {</b>
<b class="nc"><i>105</i>&nbsp;                                constructorArray.add(new String(new char[maxWidth]).replace(&#39;\u0000&#39;, &#39; &#39;));</b>
<i>106</i>&nbsp;                            }
<i>107</i>&nbsp;                        }
<i>108</i>&nbsp;
<b class="nc"><i>109</i>&nbsp;                        for (int line = 0; line &lt; currentObject.getHeight(); line++) {</b>
<b class="nc"><i>110</i>&nbsp;                            String constructorLine = &quot;&quot;;</b>
<i>111</i>&nbsp;
<b class="nc"><i>112</i>&nbsp;                            if(line == 0)</b>
<b class="nc"><i>113</i>&nbsp;                                constructorLine += &quot;@&quot; + new String(new char[currentObject.getWidth()-1]).replace(&#39;\u0000&#39;, &#39;#&#39;);</b>
<i>114</i>&nbsp;                            else
<b class="nc"><i>115</i>&nbsp;                                constructorLine += new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39;#&#39;);</b>
<i>116</i>&nbsp;
<b class="nc"><i>117</i>&nbsp;                            if (currentObject.getWidth() &lt; maxWidth) {</b>
<b class="nc"><i>118</i>&nbsp;                                constructorLine += new String(new char[maxWidth - currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39; &#39;);</b>
<i>119</i>&nbsp;                            }
<b class="nc"><i>120</i>&nbsp;                            constructorArray.add(constructorLine);</b>
<i>121</i>&nbsp;                        }
<i>122</i>&nbsp;                    }
<b class="nc"><i>123</i>&nbsp;                    break;</b>
<i>124</i>&nbsp;                case 2:
<b class="nc"><i>125</i>&nbsp;                    for (int index = 0; index &lt; super.getObjects().size(); index++) {</b>
<b class="nc"><i>126</i>&nbsp;                        PrintableObject currentObject = super.getObjects().get(index);</b>
<i>127</i>&nbsp;
<b class="nc"><i>128</i>&nbsp;                        if(!currentObject.getVisibility()  ||  currentObject.getWidth() == 0  ||  currentObject.getHeight() == 0)</b>
<b class="nc"><i>129</i>&nbsp;                            continue;</b>
<i>130</i>&nbsp;
<b class="nc"><i>131</i>&nbsp;                        if (index != 0) {</b>
<b class="nc"><i>132</i>&nbsp;                            for (int j = 0; j &lt; super.getBorder(); j++) {</b>
<b class="nc"><i>133</i>&nbsp;                                constructorArray.add(new String(new char[maxWidth]).replace(&#39;\u0000&#39;, &#39; &#39;));</b>
<i>134</i>&nbsp;                            }
<i>135</i>&nbsp;                        }
<i>136</i>&nbsp;
<b class="nc"><i>137</i>&nbsp;                        for (int line = 0; line &lt; currentObject.getHeight(); line++) {</b>
<b class="nc"><i>138</i>&nbsp;                            String constructorLine = &quot;&quot;;</b>
<b class="nc"><i>139</i>&nbsp;                            if (currentObject.getWidth() &lt; maxWidth) {</b>
<b class="nc"><i>140</i>&nbsp;                                constructorLine += new String(new char[maxWidth - currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39; &#39;);</b>
<i>141</i>&nbsp;                            }
<i>142</i>&nbsp;
<b class="nc"><i>143</i>&nbsp;                            if(line == 0)</b>
<b class="nc"><i>144</i>&nbsp;                                constructorLine += &quot;@&quot; + new String(new char[currentObject.getWidth()-1]).replace(&#39;\u0000&#39;, &#39;#&#39;);</b>
<i>145</i>&nbsp;                            else
<b class="nc"><i>146</i>&nbsp;                                constructorLine += new String(new char[currentObject.getWidth()]).replace(&#39;\u0000&#39;, &#39;#&#39;);</b>
<i>147</i>&nbsp;
<b class="nc"><i>148</i>&nbsp;                            constructorArray.add(constructorLine);</b>
<i>149</i>&nbsp;                        }
<i>150</i>&nbsp;                    }
<i>151</i>&nbsp;                    break;
<i>152</i>&nbsp;            }
<b class="nc"><i>153</i>&nbsp;            super.setObjectSize(constructorArray.size());</b>
<b class="nc"><i>154</i>&nbsp;            for (int i = 0; i &lt; constructorArray.size(); i++) {</b>
<b class="nc"><i>155</i>&nbsp;                super.setObjectLine(i, constructorArray.get(i));</b>
<i>156</i>&nbsp;            }
<i>157</i>&nbsp;        } else {
<b class="nc"><i>158</i>&nbsp;            super.setObjectSize(0);</b>
<i>159</i>&nbsp;        }
<b class="nc"><i>160</i>&nbsp;        super.updateAlignment();</b>
<i>161</i>&nbsp;    }
<i>162</i>&nbsp;
<i>163</i>&nbsp;    /**
<i>164</i>&nbsp;     * Prints all th object that the arrangement contains based on the set alignment.
<i>165</i>&nbsp;     * @param line line to start printing from. The value is 1-based.
<i>166</i>&nbsp;     * @param column line to start printing from.  The value is 1-based.
<i>167</i>&nbsp;     */
<i>168</i>&nbsp;    @Override
<i>169</i>&nbsp;    public void print(int line, int column) {
<b class="nc"><i>170</i>&nbsp;        if(super.getVisibility()) {</b>
<b class="nc"><i>171</i>&nbsp;            int index = 0;</b>
<b class="nc"><i>172</i>&nbsp;            while (super.getObjects().get(index).getHeight() == 0  ||  super.getObjects().get(index).getWidth() == 0  ||  !super.getObjects().get(index).getVisibility()){</b>
<b class="nc"><i>173</i>&nbsp;                index++;</b>
<b class="nc"><i>174</i>&nbsp;                if(index &gt;= super.getObjects().size())</b>
<b class="nc"><i>175</i>&nbsp;                    break;</b>
<i>176</i>&nbsp;            }
<b class="nc"><i>177</i>&nbsp;            if(index &lt; super.getObjects().size()) {</b>
<i>178</i>&nbsp;                external:
<b class="nc"><i>179</i>&nbsp;                for (int currLine = 0; currLine &lt; super.getHeight(); currLine++) {</b>
<b class="nc"><i>180</i>&nbsp;                    for (int currColumn = 0; currColumn &lt; super.getWidth(); currColumn++) {</b>
<b class="nc"><i>181</i>&nbsp;                        if (super.getObject()[currLine].charAt(currColumn) == &#39;@&#39;) {</b>
<b class="nc"><i>182</i>&nbsp;                            super.getObjects().get(index).print(line + currLine, column + currColumn);</b>
<b class="nc"><i>183</i>&nbsp;                            index++;</b>
<b class="nc"><i>184</i>&nbsp;                            if (index &gt;= super.getObjects().size())</b>
<b class="nc"><i>185</i>&nbsp;                                break external;</b>
<b class="nc"><i>186</i>&nbsp;                            while (super.getObjects().get(index).getHeight() == 0 || super.getObjects().get(index).getWidth() == 0 || !super.getObjects().get(index).getVisibility()) {</b>
<b class="nc"><i>187</i>&nbsp;                                index++;</b>
<b class="nc"><i>188</i>&nbsp;                                if (index &gt;= super.getObjects().size())</b>
<b class="nc"><i>189</i>&nbsp;                                    break external;</b>
<i>190</i>&nbsp;                            }
<i>191</i>&nbsp;                        }
<i>192</i>&nbsp;                    }
<i>193</i>&nbsp;                }
<i>194</i>&nbsp;            }
<i>195</i>&nbsp;        }
<b class="nc"><i>196</i>&nbsp;        super.setStartLine(line);</b>
<b class="nc"><i>197</i>&nbsp;        super.setStartColumn(column);</b>
<i>198</i>&nbsp;    }
<i>199</i>&nbsp;}
</div>
</div>

<div class="footer">
    
    <div style="float:right;">generated on 2020-07-03 15:31</div>
</div>
</body>
</html>
